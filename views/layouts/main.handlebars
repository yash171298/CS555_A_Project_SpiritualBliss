<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <link rel="stylesheet" href="../../public/css/main.css" />
    <title>{{{title}}}</title>
    <script
      src="https://code.jquery.com/jquery-2.2.4.min.js"
      integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-light">
      <a class="navbar-brand text-success" href="/">Green Cart</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        {{!-- aria-controls="navbarNav" --}}
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      {{#if authenticated}}

        <a href="/users/logout" class="btn btn-danger ml-2 mr-2">Logout</a>
        <a href="/users/details" class="btn btn-primary btn-md ml-2 mr-2">User
          Profile</a>
        <button style="font-size:24px" id="cart_btn">
          Cart<i class="fa fa-shopping-cart ml-2 mr-2"></i></button>

        {{!  }}
      {{else if adminAuth}}
        <a href="/admin/logout" class="btn btn-danger ml-2 mr-2">Admin Log Out</a>
        <a href="/admin/users" class="btn btn-primary ml-2 mr-2">Users List</a>
        <a href="/admin" class="btn btn-success ml-2 mr-2">Inventory</a>
      {{else}}
        <div class="collapse navbar-collapse" id="navbarNav">
          <form class="form-inline my-2 my-lg-0" id="user_login">
            <a
              class="btn btn-outline-success my-2 my-sm-0"
              href="/users/form"
            >Login</a>
          </form>
          <form class="form-inline my-2 my-lg-0" id="user_signup">
            <a
              class="btn btn-outline-success my-2 my-sm-0"
              href="/users/signup"
            >Sign Up</a>
          </form>
        </div>
        {{! Admin Login }}
        <div id="admin_modal">
          <button
            id="admin_login"
            class="btn btn-primary"
            data-toggle="modal"
            data-target="#adminModalLong"
          >Admin Login</button>
          <div
            class="modal fade"
            id="adminModalLong"
            tabindex="-1"
            role="dialog"
            {{!-- aria-labelledby="exampleModalLongTitle" --}}
            aria-hidden="true"
          >
            <div
              class="modal-dialog modal-lg"
              role="document"
              id="admin_modal_dialog"
            >
              <div class="modal-content container">
                <div class="modal-header">
                  <h1
                    class="modal-title text-primary"
                    id="adminModalLongTitle"
                  >Admin Login</h1>
                  <button
                    type="button"
                    class="close"
                    data-dismiss="modal"
                    aria-label="Close"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>

                <form id="adminForm" action="/admin/adminLogin" method="post">
                  <div class="form-group">
                    <label class="text-primary" for="adminEmail">Admin Email</label>
                    <input
                      type="email"
                      name="adminEmail"
                      class="form-control"
                      id="adminEmail"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label class="text-primary" for="adminPassword">Admin
                      Password</label>
                    <input
                      type="password"
                      name="adminPassword"
                      class="form-control"
                      id="adminPassword"
                    />
                    <div class="invalid-feedback">
                      Admin email/ Password cannot be empty</div>
                  </div>
                  <div class="modal-footer">
                    <input
                      type="submit"
                      class="btn btn-primary"
                      id="adminLoginSubmit"
                    />
                  </div>

                </form>
                {{!  }}
                <div class="modal-footer">
                  <a href="/admin/signup" class="btn btn-warning">Admin SignUp</a>
                </div>
                {{!  }}
              </div>

            </div>
          </div>
        </div>
      {{/if}}
      {{! <form class="form-inline my-2 my-lg-0" id="user_login">
          <a
            class="btn btn-outline-success my-2 my-sm-0"
            href="/users/form"
          >Login</a>
        </form>
        <form class="form-inline my-2 my-lg-0" id="user_signup">
          <a class="btn btn-outline-success my-2 my-sm-0" type="submit">Sign Up</a>
        </form> }}

    </nav>
    {{{body}}}
  

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
  

    <script src="../../public/js/script.js"></script>
    <script src="../../public/js/homePage.js"></script>
    <script src="../../public/js/adminLogin.js"></script>
  </body>
</html>